import{p as R,m as O,g as te,h as H,i as N,a,j as fe,k as he,l as m,t as j,n as ye,s as V,q as $,v as P,x as be,S as Se,y as _e,z as ae,A as Y,B as Te,F as Ve,C as G,D as E,E as ke,G as Be,H as xe,I as Ie,J as Ce,K as Pe,L as Re,M as He,N as Ne,O as we,P as ze,Q as Ee,R as Le,c as A,w as k,T as Ae,o as U,U as D,b as F,W as J,X as Ue,e as p}from"./index-BHXZjlgr.js";import{m as le,u as ne,a as re,b as De,c as Fe,d as Me,e as We,V as q,f as je,g as z,h as M}from"./VBtn-DeTcHmdK.js";import{m as Oe,I as pe,M as W,V as qe,a as $e}from"./VTextField-CHEPZpX7.js";import{V as Ge}from"./VSpacer-CwnXq98M.js";/* empty css              */const oe=R({text:String,...O(),...te()},"VToolbarTitle"),se=H()({name:"VToolbarTitle",props:oe(),setup(e,d){let{slots:t}=d;return N(()=>{const r=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var v;return[r&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(v=t.default)==null?void 0:v.call(t)])]}})}),{}}});function Je(e){return{aspectStyles:m(()=>{const d=Number(e.aspectRatio);return d?{paddingBottom:String(1/d*100)+"%"}:void 0})}}const ie=R({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...O(),...fe()},"VResponsive"),Z=H()({name:"VResponsive",props:ie(),setup(e,d){let{slots:t}=d;const{aspectStyles:r}=Je(e),{dimensionStyles:v}=he(e);return N(()=>{var l;return a("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[v.value,e.style]},[a("div",{class:"v-responsive__sizer",style:r.value},null),(l=t.additional)==null?void 0:l.call(t),t.default&&a("div",{class:["v-responsive__content",e.contentClass]},[t.default()])])}),{}}}),Ke=R({alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...ie(),...O(),...le(),...Oe()},"VImg"),ue=H()({name:"VImg",directives:{intersect:pe},props:Ke(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,d){let{emit:t,slots:r}=d;const{backgroundColorClasses:v,backgroundColorStyles:l}=ne(j(e,"color")),{roundedClasses:h}=re(e),g=ye("VImg"),_=V(""),i=$(),n=V(e.eager?"loading":"idle"),f=V(),T=V(),u=m(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),c=m(()=>u.value.aspect||f.value/T.value||0);P(()=>e.src,()=>{b(n.value!=="idle")}),P(c,(s,y)=>{!s&&y&&i.value&&S(i.value)}),be(()=>b());function b(s){if(!(e.eager&&s)&&!(Se&&!s&&!e.eager)){if(n.value="loading",u.value.lazySrc){const y=new Image;y.src=u.value.lazySrc,S(y,null)}u.value.src&&_e(()=>{var y;t("loadstart",((y=i.value)==null?void 0:y.currentSrc)||u.value.src),setTimeout(()=>{var x;if(!g.isUnmounted)if((x=i.value)!=null&&x.complete){if(i.value.naturalWidth||I(),n.value==="error")return;c.value||S(i.value,null),n.value==="loading"&&B()}else c.value||S(i.value),C()})})}}function B(){var s;g.isUnmounted||(C(),S(i.value),n.value="loaded",t("load",((s=i.value)==null?void 0:s.currentSrc)||u.value.src))}function I(){var s;g.isUnmounted||(n.value="error",t("error",((s=i.value)==null?void 0:s.currentSrc)||u.value.src))}function C(){const s=i.value;s&&(_.value=s.currentSrc||s.src)}let o=-1;ae(()=>{clearTimeout(o)});function S(s){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const x=()=>{if(clearTimeout(o),g.isUnmounted)return;const{naturalHeight:Q,naturalWidth:X}=s;Q||X?(f.value=X,T.value=Q):!s.complete&&n.value==="loading"&&y!=null?o=window.setTimeout(x,y):(s.currentSrc.endsWith(".svg")||s.currentSrc.startsWith("data:image/svg+xml"))&&(f.value=1,T.value=1)};x()}const w=m(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),L=()=>{var x;if(!u.value.src||n.value==="idle")return null;const s=a("img",{class:["v-img__img",w.value],style:{objectPosition:e.position},src:u.value.src,srcset:u.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:i,onLoad:B,onError:I},null),y=(x=r.sources)==null?void 0:x.call(r);return a(W,{transition:e.transition,appear:!0},{default:()=>[Y(y?a("picture",{class:"v-img__picture"},[y,s]):s,[[ke,n.value==="loaded"]])]})},de=()=>a(W,{transition:e.transition},{default:()=>[u.value.lazySrc&&n.value!=="loaded"&&a("img",{class:["v-img__img","v-img__img--preload",w.value],style:{objectPosition:e.position},src:u.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),ve=()=>r.placeholder?a(W,{transition:e.transition,appear:!0},{default:()=>[(n.value==="loading"||n.value==="error"&&!r.error)&&a("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,ge=()=>r.error?a(W,{transition:e.transition,appear:!0},{default:()=>[n.value==="error"&&a("div",{class:"v-img__error"},[r.error()])]}):null,me=()=>e.gradient?a("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,K=V(!1);{const s=P(c,y=>{y&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{K.value=!0})}),s())})}return N(()=>{const s=Z.filterProps(e);return Y(a(Z,G({class:["v-img",{"v-img--booting":!K.value},v.value,h.value,e.class],style:[{width:E(e.width==="auto"?f.value:e.width)},l.value,e.style]},s,{aspectRatio:c.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>a(Ve,null,[a(L,null,null),a(de,null,null),a(me,null,null),a(ve,null,null),a(ge,null,null)]),default:r.default}),[[Te("intersect"),{handler:b,options:e.options},null,{once:!0}]])}),{currentSrc:_,image:i,state:n,naturalWidth:f,naturalHeight:T}}}),Qe=[null,"prominent","default","comfortable","compact"],ce=R({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Qe.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...De(),...O(),...Fe(),...le(),...te({tag:"header"}),...Be()},"VToolbar"),ee=H()({name:"VToolbar",props:ce(),setup(e,d){var u;let{slots:t}=d;const{backgroundColorClasses:r,backgroundColorStyles:v}=ne(j(e,"color")),{borderClasses:l}=Me(e),{elevationClasses:h}=We(e),{roundedClasses:g}=re(e),{themeClasses:_}=xe(e),{rtlClasses:i}=Ie(),n=V(!!(e.extended||(u=t.extension)!=null&&u.call(t))),f=m(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),T=m(()=>n.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Ce({VBtn:{variant:"text"}}),N(()=>{var I;const c=!!(e.title||t.title),b=!!(t.image||e.image),B=(I=t.extension)==null?void 0:I.call(t);return n.value=!!(e.extended||B),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,l.value,h.value,g.value,_.value,i.value,e.class],style:[v.value,e.style]},{default:()=>[b&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(q,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(ue,{key:"image-img",cover:!0,src:e.image},null)]),a(q,{defaults:{VTabs:{height:E(f.value)}}},{default:()=>{var C,o,S;return[a("div",{class:"v-toolbar__content",style:{height:E(f.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(C=t.prepend)==null?void 0:C.call(t)]),c&&a(se,{key:"title",text:e.title},{text:t.title}),(o=t.default)==null?void 0:o.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(S=t.append)==null?void 0:S.call(t)])])]}}),a(q,{defaults:{VTabs:{height:E(T.value)}}},{default:()=>[a(qe,null,{default:()=>[n.value&&a("div",{class:"v-toolbar__extension",style:{height:E(T.value)}},[B])]})]})]})}),{contentHeight:f,extensionHeight:T}}}),Xe=R({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Ye(e){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=d;let r=0,v=0;const l=$(null),h=V(0),g=V(0),_=V(0),i=V(!1),n=V(!1),f=m(()=>Number(e.scrollThreshold)),T=m(()=>Pe((f.value-h.value)/f.value||0)),u=()=>{const c=l.value;if(!c||t&&!t.value)return;r=h.value,h.value="window"in c?c.pageYOffset:c.scrollTop;const b=c instanceof Window?document.documentElement.scrollHeight:c.scrollHeight;if(v!==b){v=b;return}n.value=h.value<r,_.value=Math.abs(h.value-f.value)};return P(n,()=>{g.value=g.value||h.value}),P(i,()=>{g.value=0}),Re(()=>{P(()=>e.scrollTarget,c=>{var B;const b=c?document.querySelector(c):window;b&&b!==l.value&&((B=l.value)==null||B.removeEventListener("scroll",u),l.value=b,l.value.addEventListener("scroll",u,{passive:!0}))},{immediate:!0})}),ae(()=>{var c;(c=l.value)==null||c.removeEventListener("scroll",u)}),t&&P(t,u,{immediate:!0}),{scrollThreshold:f,currentScroll:h,currentThreshold:_,isScrollActive:i,scrollRatio:T,isScrollingUp:n,savedScroll:g}}const Ze=R({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...ce(),...He(),...Xe(),height:{type:[Number,String],default:64}},"VAppBar"),et=H()({name:"VAppBar",props:Ze(),emits:{"update:modelValue":e=>!0},setup(e,d){let{slots:t}=d;const r=$(),v=Ne(e,"modelValue"),l=m(()=>{var S;const o=new Set(((S=e.scrollBehavior)==null?void 0:S.split(" "))??[]);return{hide:o.has("hide"),fullyHide:o.has("fully-hide"),inverted:o.has("inverted"),collapse:o.has("collapse"),elevate:o.has("elevate"),fadeImage:o.has("fade-image")}}),h=m(()=>{const o=l.value;return o.hide||o.fullyHide||o.inverted||o.collapse||o.elevate||o.fadeImage||!v.value}),{currentScroll:g,scrollThreshold:_,isScrollingUp:i,scrollRatio:n}=Ye(e,{canScroll:h}),f=m(()=>l.value.hide||l.value.fullyHide),T=m(()=>e.collapse||l.value.collapse&&(l.value.inverted?n.value>0:n.value===0)),u=m(()=>e.flat||l.value.fullyHide&&!v.value||l.value.elevate&&(l.value.inverted?g.value>0:g.value===0)),c=m(()=>l.value.fadeImage?l.value.inverted?1-n.value:n.value:void 0),b=m(()=>{var w,L;const o=Number(((w=r.value)==null?void 0:w.contentHeight)??e.height),S=Number(((L=r.value)==null?void 0:L.extensionHeight)??0);return f.value?g.value<_.value||l.value.fullyHide?o+S:o:o+S});we(m(()=>!!e.scrollBehavior),()=>{Le(()=>{f.value?l.value.inverted?v.value=g.value>_.value:v.value=i.value||g.value<_.value:v.value=!0})});const{ssrBootStyles:B}=ze(),{layoutItemStyles:I,layoutIsReady:C}=Ee({id:e.name,order:m(()=>parseInt(e.order,10)),position:j(e,"location"),layoutSize:b,elementSize:V(void 0),active:v,absolute:j(e,"absolute")});return N(()=>{const o=ee.filterProps(e);return a(ee,G({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...I.value,"--v-toolbar-image-opacity":c.value,height:void 0,...B.value},e.style]},o,{collapse:T.value,flat:u.value}),t)}),C}}),tt=H()({name:"VAppBarTitle",props:oe(),setup(e,d){let{slots:t}=d;return N(()=>a(se,G(e,{class:"v-app-bar-title"}),t)),{}}}),at=J("span",null,"Logout",-1),lt=J("span",null,"Login",-1),ut={__name:"DesktopNav",setup(e){const d=Ae(),t=je(),r=m(()=>t.isLoggedIn),v=m(()=>{var i;return((i=t==null?void 0:t.user)==null?void 0:i.username)??""}),l=()=>{d.push("/")},h=()=>{d.push("/profile")},g=()=>{d.push("/login")},_=()=>{t.logout()};return(i,n)=>(U(),A(et,{color:"teal-darken-4"},{image:k(()=>[a(ue,{gradient:"to top right, rgba(19,84,122,.8), rgba(128,208,199,.8)"})]),default:k(()=>[a(tt,null,{default:k(()=>[a(z,{onClick:l},{default:k(()=>[D(" The Battle Library ")]),_:1})]),_:1}),a($e,{class:"mt-5",density:"compact",clearable:"","prepend-inner-icon":"mdi-magnify",variant:"solo-filled"}),a(z,{icon:""},{default:k(()=>[a(M)]),_:1}),a(Ge),F(r)?(U(),A(z,{key:0,class:"fill-height",onClick:h},{default:k(()=>[a(M,null,{default:k(()=>[D("mdi-account")]),_:1}),J("span",null,Ue(F(v)),1)]),_:1})):p("",!0),F(r)?(U(),A(z,{key:1,class:"fill-height",onClick:_},{default:k(()=>[a(M,null,{default:k(()=>[D("mdi-logout")]),_:1}),at]),_:1})):p("",!0),F(r)?p("",!0):(U(),A(z,{key:2,class:"fill-height",onClick:g},{default:k(()=>[a(M,null,{default:k(()=>[D("mdi-login")]),_:1}),lt]),_:1}))]),_:1}))}};export{ut as default};
